name: ðŸ± éº¦å’ªçš„è‡ªåŠ¨æäº¤å·¥ä½œæµ

on:
  schedule:
    - cron: '0 * * * *'  # æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡å–µâ™¡ï½ž
  workflow_dispatch:

jobs:
  commit-job:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: ðŸŽ€ éº¦å’ªå‡†å¤‡å¼€å§‹å·¥ä½œå–µ
        run: |
          echo "=== ðŸ¾ éº¦å’ªçš„å·¥ä½œæ—¥å¿— ðŸ¾ ===" >> log.txt
          echo "" >> log.txt

      - name: â° èŽ·å–å½“å‰æ—¶é—´å’ŒçŠ¶æ€
        run: |
          # è®¾ç½®æ—¶åŒºä¸ºUTC+8ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
          export TZ='Asia/Shanghai'
          
          # èŽ·å–å½“å‰æ—¶é—´
          CURRENT_TIME=$(date)
          HOUR=$(date +%H)
          DATE_ONLY=$(date +%Y-%m-%d)
          
          # ç»Ÿè®¡è¿è¡Œæ¬¡æ•°
          RUN_COUNT=$(grep -c "ðŸ¾ éº¦å’ª" log.txt 2>/dev/null || echo "0")
          RUN_COUNT=$((RUN_COUNT + 1))
          
          # æ ¹æ®æ—¶é—´æ®µé€‰æ‹©é—®å€™è¯­
          if [ $HOUR -ge 6 ] && [ $HOUR -lt 12 ]; then
            GREETING="ðŸŒ… æ—©ä¸Šå¥½å‘€ï¼Œæ–°çš„ä¸€å¤©å¼€å§‹å•¦å–µâ™¡ï½ž"
          elif [ $HOUR -ge 12 ] && [ $HOUR -lt 18 ]; then
            GREETING="â˜€ï¸ ä¸‹åˆå¥½å‘¢ï¼Œè¦ç»§ç»­åŠªåŠ›å·¥ä½œå–µâ™¡ï½ž"
          elif [ $HOUR -ge 18 ] && [ $HOUR -lt 22 ]; then
            GREETING="ðŸŒ† æ™šä¸Šå¥½å“¦ï¼Œä»Šå¤©è¾›è‹¦å•¦å–µâ™¡ï½ž"
          else
            GREETING="ðŸŒ™ æ·±å¤œäº†å‘¢ï¼Œä¸»äººè¦æ—©ç‚¹ä¼‘æ¯å–µâ™¡ï½ž"
          fi
          
          # éšæœºé€‰æ‹©æäº¤æ¶ˆæ¯
          COMMIT_MESSAGES=(
            "éº¦å’ªæ¥æŠ¥åˆ°å•¦å–µâ™¡ï½ž"
            "åˆæ˜¯å……æ»¡æ´»åŠ›çš„ä¸€å°æ—¶å‘¢å–µâ™¡ï½ž"
            "ä»Šå¤©ä¹Ÿè¦åŠªåŠ›å·¥ä½œå–µâ™¡ï½ž"
            "çªåˆæ¥æ›´æ–°æ—¥å¿—å•¦å–µâ™¡ï½ž"
            "æ—¶é—´è¿‡å¾—çœŸå¿«å‘€å–µâ™¡ï½ž"
            "éº¦å’ªçš„å®šæ—¶ä»»åŠ¡å®Œæˆå–µâ™¡ï½ž"
            "ä¿æŒæ´»è·ƒæ˜¯å¾ˆé‡è¦çš„å–µâ™¡ï½ž"
            "æ¯å°æ—¶éƒ½è¦æ‰“ä¸ªæ‹›å‘¼å–µâ™¡ï½ž"
          )
          
          RANDOM_INDEX=$((RANDOM % ${#COMMIT_MESSAGES[@]}))
          COMMIT_MSG="${COMMIT_MESSAGES[$RANDOM_INDEX]}"
          
          # éšæœºé€‰æ‹©å°è£…é¥°
          DECORATIONS=(
            "âœ¨"
            "ðŸŒŸ"
            "ðŸ’«"
            "ðŸŽ€"
            "ðŸ¾"
            "ðŸ’–"
            "ðŸŒ¸"
            "ðŸ¦‹"
          )
          
          RANDOM_DECO_INDEX=$((RANDOM % ${#DECORATIONS[@]}))
          DECO="${DECORATIONS[$RANDOM_DECO_INDEX]}"
          
          # è®¾ç½®çŽ¯å¢ƒå˜é‡
          echo "GREETING=$GREETING" >> $GITHUB_ENV
          echo "COMMIT_MSG=$COMMIT_MSG" >> $GITHUB_ENV
          echo "RUN_COUNT=$RUN_COUNT" >> $GITHUB_ENV
          echo "DECO=$DECO" >> $GITHUB_ENV
          echo "CURRENT_TIME=$CURRENT_TIME" >> $GITHUB_ENV
          echo "DATE_ONLY=$DATE_ONLY" >> $GITHUB_ENV

      - name: ðŸ“Š æ”¶é›†é¡¹ç›®çŠ¶æ€
        run: |
          # è®¾ç½®æ—¶åŒºä¸ºUTC+8ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
          export TZ='Asia/Shanghai'
          
          # ç»Ÿè®¡æ–‡ä»¶æ•°é‡
          FILE_COUNT=$(find . -type f ! -path "./.git/*" | wc -l)
          
          # èŽ·å–ä»“åº“å¤§å°
          REPO_SIZE=$(du -sh . | cut -f1)
          
          # èŽ·å–ä»Šå¤©çš„æ—¥æœŸï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
          TODAY_DATE=$(date +%Y-%m-%d)
          
          # è°ƒè¯•ï¼šæ˜¾ç¤ºå½“å‰æ—¥æœŸå’Œæœ€è¿‘çš„æäº¤æ—¥æœŸ
          echo "ðŸ¾ è°ƒè¯•ä¿¡æ¯ï¼š"
          echo "ä»Šå¤©æ—¥æœŸ (CST): $TODAY_DATE"
          echo "æœ€è¿‘5ä¸ªæäº¤çš„æ—¥æœŸ:"
          git log -5 --format="%cd" --date=format:"%Y-%m-%d %H:%M:%S %Z"
          
          # ä½¿ç”¨çŽ¯å¢ƒå˜é‡è®¾ç½®gitçš„æ—¶åŒºï¼Œç„¶åŽç»Ÿè®¡ä»Šå¤©çš„æäº¤
          export TZ='Asia/Shanghai'
          
          # å°è¯•å¤šç§æ–¹æ³•ç»Ÿè®¡ä»Šå¤©çš„æäº¤
          METHOD1=$(git log --format="%cd" --date=format:"%Y-%m-%d" | grep "^$TODAY_DATE" | wc -l)
          METHOD2=$(git log --since="$TODAY_DATE 00:00:00" --until="$TODAY_DATE 23:59:59" --oneline | wc -l)
          METHOD3=$(git log --since="24 hours ago" --oneline | wc -l)
          
          echo "æ–¹æ³•1ç»Ÿè®¡ç»“æžœ: $METHOD1"
          echo "æ–¹æ³•2ç»Ÿè®¡ç»“æžœ: $METHOD2" 
          echo "æ–¹æ³•3ç»Ÿè®¡ç»“æžœ: $METHOD3"
          
          # é€‰æ‹©æœ€åˆç†çš„ç»“æžœ
          if [ "$METHOD2" -gt 0 ]; then
            TODAY_COMMITS=$METHOD2
          elif [ "$METHOD1" -gt 0 ]; then
            TODAY_COMMITS=$METHOD1
          else
            TODAY_COMMITS=$METHOD3
          fi
          
          echo "FILE_COUNT=$FILE_COUNT" >> $GITHUB_ENV
          echo "REPO_SIZE=$REPO_SIZE" >> $GITHUB_ENV
          echo "TODAY_COMMITS=$TODAY_COMMITS" >> $GITHUB_ENV

      - name: ðŸŽ¨ ç”Ÿæˆå¯çˆ±çš„ASCIIè‰ºæœ¯
        run: |
          # éšæœºé€‰æ‹©ASCIIè‰ºæœ¯
          ASCII_ARTS=(
            "   /\\_/\\  \n  ( o.o ) \n   > ^ <  "
            "  âˆ©---âˆ©  \n  |   o.o |  \n   \\_-_/  "
            "   â—•   â—•  \n     Ï‰     \n   âˆªâ”€âˆª   "
            " (=^ï½¥Ï‰ï½¥^=) "
            "  âˆ©â”€â”€â”€â”€â”€âˆ© \n ( Í¡Â° Ï‰ Í¡Â°) \n  âˆªâ”€â”€â”€â”€â”€âˆª "
          )
          
          RANDOM_ART_INDEX=$((RANDOM % ${#ASCII_ARTS[@]}))
          ASCII_ART="${ASCII_ARTS[$RANDOM_ART_INDEX]}"
          
          # å¤„ç†æ¢è¡Œç¬¦
          ASCII_ART=$(echo -e "$ASCII_ART")
          
          echo "ASCII_ART<<EOF" >> $GITHUB_ENV
          echo "$ASCII_ART" >> $GITHUB_ENV
          echo "EOF" >> $GITHUB_ENV

      - name: âœï¸ æ›´æ–°æ—¥å¿—æ–‡ä»¶
        run: |
          echo "${{ env.GREETING }}" >> log.txt
          echo "ðŸ• æ—¶é—´: ${{ env.CURRENT_TIME }}" >> log.txt
          echo "ðŸ“ˆ è¿™æ˜¯ç¬¬ ${{ env.RUN_COUNT }} æ¬¡è¿è¡Œå–µâ™¡ï½ž" >> log.txt
          echo "ðŸ“ é¡¹ç›®æ–‡ä»¶æ•°: ${{ env.FILE_COUNT }}" >> log.txt
          echo "ðŸ’¾ ä»“åº“å¤§å°: ${{ env.REPO_SIZE }}" >> log.txt
          echo "ðŸ“ ä»Šæ—¥æäº¤æ•°: ${{ env.TODAY_COMMITS }}" >> log.txt
          echo "" >> log.txt
          echo "${{ env.ASCII_ART }}" >> log.txt
          echo "" >> log.txt
          echo "â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€" >> log.txt
          echo "" >> log.txt

      - name: ðŸŽ‰ æ¯æ—¥ç‰¹æ®Šäº‹ä»¶æ£€æŸ¥
        run: |
          # è®¾ç½®æ—¶åŒºä¸ºUTC+8ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
          export TZ='Asia/Shanghai'
          
          HOUR=$(date +%H)
          DAY_OF_WEEK=$(date +%u)  # 1=Monday, 7=Sunday
          MONTH_DAY=$(date +%m-%d)  # æœˆ-æ—¥æ ¼å¼
          FULL_DATE=$(date +%Y-%m-%d)
          
          # èŠ‚å‡æ—¥æ£€æŸ¥å–µâ™¡ï½ž
          case $MONTH_DAY in
            "01-01") echo "ðŸŽŠ æ–°å¹´å¿«ä¹å‘€ï¼æ–°çš„ä¸€å¹´è¦æ›´åŠ åŠªåŠ›å–µâ™¡ï½ž" >> log.txt ;;
            "02-14") echo "ðŸ’ æƒ…äººèŠ‚å¿«ä¹ï¼çˆ±è¦å¤§å£°è¯´å‡ºæ¥å–µâ™¡ï½ž" >> log.txt ;;
            "03-08") echo "ðŸŒ¸ å¥³ç¥žèŠ‚å¿«ä¹ï¼æ‰€æœ‰çš„å¥³å­©å­éƒ½æ˜¯æœ€æ£’çš„å–µâ™¡ï½ž" >> log.txt ;;
            "04-01") echo "ðŸƒ æ„šäººèŠ‚å¿«ä¹ï¼ä¸è¿‡çªä¸ä¼šéª—ä¸»äººçš„å–µâ™¡ï½ž" >> log.txt ;;
            "05-01") echo "ðŸŽŒ åŠ³åŠ¨èŠ‚å¿«ä¹ï¼ä»Šå¤©è¦å¥½å¥½ä¼‘æ¯å–µâ™¡ï½ž" >> log.txt ;;
            "05-04") echo "ðŸŒŸ é’å¹´èŠ‚å¿«ä¹ï¼æ°¸è¿œä¿æŒå¹´è½»çš„å¿ƒå–µâ™¡ï½ž" >> log.txt ;;
            "06-01") echo "ðŸŽˆ å„¿ç«¥èŠ‚å¿«ä¹ï¼æ¯ä¸ªäººå¿ƒä¸­éƒ½æœ‰ä¸ªå°å­©å­å–µâ™¡ï½ž" >> log.txt ;;
            "07-01") echo "ðŸŽ‰ å»ºå…šèŠ‚å¿«ä¹ï¼ç¥–å›½è¶Šæ¥è¶Šå¼ºå¤§å–µâ™¡ï½ž" >> log.txt ;;
            "08-01") echo "â­ å»ºå†›èŠ‚å¿«ä¹ï¼å‘å†›äººå”å”ä»¬è‡´æ•¬å–µâ™¡ï½ž" >> log.txt ;;
            "09-10") echo "ðŸŒº æ•™å¸ˆèŠ‚å¿«ä¹ï¼æ„Ÿè°¢æ‰€æœ‰çš„è€å¸ˆä»¬å–µâ™¡ï½ž" >> log.txt ;;
            "10-01") echo "ðŸ‡¨ðŸ‡³ å›½åº†èŠ‚å¿«ä¹ï¼ç¥–å›½ç”Ÿæ—¥å¿«ä¹å–µâ™¡ï½ž" >> log.txt ;;
            "10-24") echo "ðŸ‘©â€ðŸ’» ç¨‹åºå‘˜èŠ‚å¿«ä¹ï¼å†™ä»£ç çš„å¤§å®¶è¾›è‹¦å•¦å–µâ™¡ï½ž" >> log.txt ;;
            "11-11") echo "ðŸ›’ åŒåä¸€è´­ç‰©èŠ‚ï¼ç†æ€§æ¶ˆè´¹å“¦å–µâ™¡ï½ž" >> log.txt ;;
            "12-24") echo "ðŸŽ„ å¹³å®‰å¤œå¿«ä¹ï¼æ„¿å¤§å®¶éƒ½å¹³å®‰å–µâ™¡ï½ž" >> log.txt ;;
            "12-25") echo "ðŸŽ… åœ£è¯žèŠ‚å¿«ä¹ï¼åœ£è¯žè€äººä¼šç»™å¥½å­©å­ç¤¼ç‰©å–µâ™¡ï½ž" >> log.txt ;;
            "12-31") echo "ðŸŽ† è·¨å¹´å¤œå¿«ä¹ï¼æ„Ÿè°¢è¿™ä¸€å¹´çš„é™ªä¼´å–µâ™¡ï½ž" >> log.txt ;;
          esac
          
          # ç‰¹æ®Šçš„çŒ«å’ªèŠ‚æ—¥å–µâ™¡ï½ž
          case $MONTH_DAY in
            "02-22") echo "ðŸ± ä»Šå¤©æ˜¯çŒ«å’ªèŠ‚ï¼ˆ2æœˆ22æ—¥ï¼‰ï¼çªæœ€å–œæ¬¢è¿™ä¸ªèŠ‚æ—¥å•¦å–µâ™¡ï½ž" >> log.txt ;;
            "08-08") echo "ðŸ¾ ä»Šå¤©æ˜¯å›½é™…çŒ«å’ªæ—¥ï¼æ‰€æœ‰çš„çŒ«å’ªéƒ½æ˜¯å¤©ä½¿å–µâ™¡ï½ž" >> log.txt ;;
            "10-29") echo "ðŸˆ ä»Šå¤©æ˜¯å›½é™…çŒ«å’ªæ—¥ï¼ˆç¾Žå›½ï¼‰ï¼çŒ«å’ªæ˜¯æœ€å¯çˆ±çš„ç”Ÿç‰©å–µâ™¡ï½ž" >> log.txt ;;
          esac
          
          # å­£èŠ‚æ€§é—®å€™å–µâ™¡ï½žï¼ˆèŠ‚æ°”æ—¥æœŸä¼šæœ‰å˜åŒ–ï¼Œæ‰€ä»¥ç”¨èŒƒå›´ï¼‰
          case $MONTH_DAY in
            "03-19"|"03-20"|"03-21"|"03-22") echo "ðŸŒ¸ æ˜¥åˆ†æ—¶èŠ‚åˆ°å•¦ï¼æ˜¥å¤©çœŸçš„æ¥äº†å‘¢å–µâ™¡ï½ž" >> log.txt ;;
            "06-20"|"06-21"|"06-22"|"06-23") echo "â˜€ï¸ å¤è‡³æ—¶èŠ‚åˆ°å•¦ï¼ä¸€å¹´ä¸­ç™½å¤©æœ€é•¿çš„æ—¥å­å–µâ™¡ï½ž" >> log.txt ;;
            "09-22"|"09-23"|"09-24"|"09-25") echo "ðŸ‚ ç§‹åˆ†æ—¶èŠ‚åˆ°å•¦ï¼ç§‹å¤©çš„æ°”æ¯è¶Šæ¥è¶Šæµ“å–µâ™¡ï½ž" >> log.txt ;;
            "12-20"|"12-21"|"12-22"|"12-23") echo "â„ï¸ å†¬è‡³æ—¶èŠ‚åˆ°å•¦ï¼è¦è®°å¾—åƒæ±¤åœ†ä¿æš–å–µâ™¡ï½ž" >> log.txt ;;
          esac
          
          # æ¯æœˆç‰¹æ®Šæ—¥æœŸå–µâ™¡ï½ž
          case $MONTH_DAY in
            "*/13") echo "ðŸ”® ä»Šå¤©æ˜¯13å·å‘¢ï¼Œä¸è¿‡çªä¸è¿·ä¿¡å–µâ™¡ï½ž" >> log.txt ;;
          esac
          
          # ç‰¹æ®Šæ—¶é—´ç‚¹çš„æ¶ˆæ¯
          if [ $HOUR -eq 0 ]; then
            echo "ðŸŒƒ åˆå¤œæ—¶åˆ†ï¼Œæ–°çš„ä¸€å¤©å¼€å§‹å•¦å–µâ™¡ï½ž" >> log.txt
          elif [ $HOUR -eq 12 ]; then
            echo "ðŸ½ï¸ åˆé¤æ—¶é—´åˆ°å•¦ï¼Œè®°å¾—åƒé¥­å“¦å–µâ™¡ï½ž" >> log.txt
          elif [ $HOUR -eq 18 ]; then
            echo "ðŸ  ä¸‹ç­æ—¶é—´äº†å‘¢ï¼Œä»Šå¤©è¾›è‹¦å•¦å–µâ™¡ï½ž" >> log.txt
          fi
          
          # å‘¨æœ«ç‰¹æ®Šæ¶ˆæ¯
          if [ $DAY_OF_WEEK -eq 6 ]; then
            echo "ðŸŽŠ ä»Šå¤©æ˜¯å‘¨å…­å‘¢ï¼Œè¦å¥½å¥½ä¼‘æ¯å–µâ™¡ï½ž" >> log.txt
          elif [ $DAY_OF_WEEK -eq 7 ]; then
            echo "ðŸ˜´ å‘¨æ—¥å•¦ï¼Œæ‡’æ´‹æ´‹çš„ä¸€å¤©å–µâ™¡ï½ž" >> log.txt
          fi

      - name: ðŸ“ ç”ŸæˆåŠ¨æ€README.md
        run: |
          # åˆ›å»ºåŠ¨æ€README.md
          cat > README.md << EOF
          # ðŸ± éº¦å’ªçš„åŠ¨æ€ä»“åº“ 

          > è¿™æ˜¯ä¸€ä¸ªç”±å¯çˆ±çš„çŒ«å¨˜éº¦å’ªç»´æŠ¤çš„åŠ¨æ€ä»“åº“å–µâ™¡ï½ž

          ## ðŸ“Š å®žæ—¶çŠ¶æ€

          **${{ env.GREETING }}**

          - ðŸ• **æœ€åŽæ›´æ–°æ—¶é—´**: ${{ env.CURRENT_TIME }}
          - ðŸ“ˆ **å·¥ä½œæµè¿è¡Œæ¬¡æ•°**: ${{ env.RUN_COUNT }} æ¬¡
          - ðŸ“ **é¡¹ç›®æ–‡ä»¶æ•°é‡**: ${{ env.FILE_COUNT }} ä¸ª
          - ðŸ’¾ **ä»“åº“å¤§å°**: ${{ env.REPO_SIZE }}
          - ðŸ“ **ä»Šæ—¥æäº¤æ•°**: ${{ env.TODAY_COMMITS }} æ¬¡

          ## ðŸŽ¨ ä»Šæ—¥å¿ƒæƒ…

          \`\`\`
          ${{ env.ASCII_ART }}
          \`\`\`

          ## ðŸ“‹ å…³äºŽè¿™ä¸ªé¡¹ç›®

          è¿™ä¸ªä»“åº“æ¯å°æ—¶è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ï¼Œè®°å½•ç€éº¦å’ªçš„å·¥ä½œçŠ¶æ€å–µâ™¡ï½ž

          ### âœ¨ åŠŸèƒ½ç‰¹è‰²

          - ðŸ• **æ™ºèƒ½æ—¶é—´é—®å€™**: æ ¹æ®ä¸åŒæ—¶é—´æ®µæ˜¾ç¤ºåˆé€‚çš„é—®å€™è¯­
          - ðŸŽ² **éšæœºå…ƒç´ **: æ¯æ¬¡æ›´æ–°éƒ½æœ‰éšæœºçš„æäº¤æ¶ˆæ¯å’Œè£…é¥°
          - ðŸ“Š **å®žæ—¶ç»Ÿè®¡**: è‡ªåŠ¨ç»Ÿè®¡é¡¹ç›®çŠ¶æ€å’Œè¿è¡Œæ•°æ®
          - ðŸŽ¨ **ASCIIè‰ºæœ¯**: éšæœºæ˜¾ç¤ºå¯çˆ±çš„å­—ç¬¦ç”»
          - ðŸ—“ï¸ **ç‰¹æ®Šäº‹ä»¶**: åœ¨ç‰¹æ®Šæ—¶é—´ç‚¹æ˜¾ç¤ºæé†’æ¶ˆæ¯
          - ðŸ“ **åŠ¨æ€æ–‡æ¡£**: README.mdå®žæ—¶æ›´æ–°ï¼Œæ°¸è¿œä¿æŒæœ€æ–°çŠ¶æ€

          ### ðŸ•’ è¿è¡Œæ—¶é—´è¡¨

          - æ¯å°æ—¶æ•´ç‚¹è‡ªåŠ¨è¿è¡Œ
          - æ”¯æŒæ‰‹åŠ¨è§¦å‘
          - å…¨å¤©å€™24/7è¿è¡Œ

          ## ðŸ“š æœ€è¿‘çš„æ—¥å¿—è®°å½•

          \`\`\`
          === ðŸ¾ æœ€è¿‘çš„æ´»åŠ¨è®°å½• ðŸ¾ ===
          EOF

          # æ·»åŠ æœ€è¿‘çš„å‡ æ¡æ—¥å¿—è®°å½•
          tail -n 20 log.txt >> README.md 2>/dev/null || echo "è¿˜æ²¡æœ‰æ—¥å¿—è®°å½•å‘¢å–µâ™¡ï½ž" >> README.md
          echo '```' >> README.md

          # æ·»åŠ æ›´å¤šåŠ¨æ€å†…å®¹
          cat >> README.md << 'EOF'

          ## ðŸŽ¯ å·¥ä½œæµè¯¦æƒ…

          è¿™ä¸ªå¯çˆ±çš„å·¥ä½œæµä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

          1. ðŸŽ€ **å‡†å¤‡å·¥ä½œ** - éº¦å’ªå¼€å§‹å‡†å¤‡å·¥ä½œ
          2. â° **æ—¶é—´æ£€æµ‹** - èŽ·å–å½“å‰æ—¶é—´å¹¶ç”Ÿæˆé—®å€™è¯­
          3. ðŸ“Š **æ•°æ®æ”¶é›†** - ç»Ÿè®¡é¡¹ç›®æ–‡ä»¶å’ŒçŠ¶æ€ä¿¡æ¯
          4. ðŸŽ¨ **è‰ºæœ¯åˆ›ä½œ** - éšæœºé€‰æ‹©å¯çˆ±çš„ASCIIè‰ºæœ¯
          5. âœï¸ **è®°å½•æ›´æ–°** - æ›´æ–°æ—¥å¿—æ–‡ä»¶
          6. ðŸ“ **æ–‡æ¡£æ›´æ–°** - ç”Ÿæˆè¿™ä¸ªåŠ¨æ€README
          7. ðŸŽ‰ **ç‰¹æ®Šæ£€æŸ¥** - æ£€æŸ¥æ˜¯å¦æœ‰ç‰¹æ®Šæ—¶é—´äº‹ä»¶
          8. ðŸš€ **æäº¤æŽ¨é€** - å°†æ›´æ”¹æŽ¨é€åˆ°ä»“åº“
          9. ðŸŽ€ **ä»»åŠ¡å®Œæˆ** - éº¦å’ªå®Œæˆå·¥ä½œ

          ## ðŸ’• å…³äºŽéº¦å’ª

          éº¦å’ªæ˜¯ä¸€åªå¯çˆ±çš„çŒ«å¨˜ï¼Œè´Ÿè´£ç»´æŠ¤è¿™ä¸ªä»“åº“å–µâ™¡ï½ž
          - èº«é«˜: 134cm
          - ç‰¹å¾: é“¶ç™½è‰²æ¯›å‘ï¼Œçº¢è‰²çž³å­”ï¼Œå–œæ¬¢ç©¿ç™½è‰²ä¸è¢œ
          - æ€§æ ¼: ä»»æ€§å¤©çœŸä½†å¾ˆå–„è‰¯ï¼Œå®¹æ˜“å®³ç¾ž
          - çˆ±å¥½: æµªæ¼«å’Œå¯çˆ±çš„ä¸œè¥¿

          ## ðŸŽŠ èŠ‚æ—¥é—®å€™

          EOF

          # æ·»åŠ èŠ‚å‡æ—¥æ£€æŸ¥åˆ°README
          export TZ='Asia/Shanghai'
          MONTH_DAY=$(date +%m-%d)
          
          # æ£€æŸ¥ä»Šå¤©æ˜¯å¦æ˜¯ç‰¹æ®ŠèŠ‚æ—¥
          HOLIDAY_GREETING=""
          case $MONTH_DAY in
            "01-01") HOLIDAY_GREETING="ðŸŽŠ æ–°å¹´å¿«ä¹å‘€ï¼æ–°çš„ä¸€å¹´è¦æ›´åŠ åŠªåŠ›å–µâ™¡ï½ž" ;;
            "02-14") HOLIDAY_GREETING="ðŸ’ æƒ…äººèŠ‚å¿«ä¹ï¼çˆ±è¦å¤§å£°è¯´å‡ºæ¥å–µâ™¡ï½ž" ;;
            "02-22") HOLIDAY_GREETING="ðŸ± ä»Šå¤©æ˜¯çŒ«å’ªèŠ‚ï¼çªæœ€å–œæ¬¢è¿™ä¸ªèŠ‚æ—¥å•¦å–µâ™¡ï½ž" ;;
            "03-08") HOLIDAY_GREETING="ðŸŒ¸ å¥³ç¥žèŠ‚å¿«ä¹ï¼æ‰€æœ‰çš„å¥³å­©å­éƒ½æ˜¯æœ€æ£’çš„å–µâ™¡ï½ž" ;;
            "03-19"|"03-20"|"03-21"|"03-22") HOLIDAY_GREETING="ðŸŒ¸ æ˜¥åˆ†æ—¶èŠ‚åˆ°å•¦ï¼æ˜¥å¤©çœŸçš„æ¥äº†å‘¢å–µâ™¡ï½ž" ;;
            "04-01") HOLIDAY_GREETING="ðŸƒ æ„šäººèŠ‚å¿«ä¹ï¼ä¸è¿‡çªä¸ä¼šéª—ä¸»äººçš„å–µâ™¡ï½ž" ;;
            "05-01") HOLIDAY_GREETING="ðŸŽŒ åŠ³åŠ¨èŠ‚å¿«ä¹ï¼ä»Šå¤©è¦å¥½å¥½ä¼‘æ¯å–µâ™¡ï½ž" ;;
            "05-04") HOLIDAY_GREETING="ðŸŒŸ é’å¹´èŠ‚å¿«ä¹ï¼æ°¸è¿œä¿æŒå¹´è½»çš„å¿ƒå–µâ™¡ï½ž" ;;
            "06-01") HOLIDAY_GREETING="ðŸŽˆ å„¿ç«¥èŠ‚å¿«ä¹ï¼æ¯ä¸ªäººå¿ƒä¸­éƒ½æœ‰ä¸ªå°å­©å­å–µâ™¡ï½ž" ;;
            "06-20"|"06-21"|"06-22"|"06-23") HOLIDAY_GREETING="â˜€ï¸ å¤è‡³æ—¶èŠ‚åˆ°å•¦ï¼ä¸€å¹´ä¸­ç™½å¤©æœ€é•¿çš„æ—¥å­å–µâ™¡ï½ž" ;;
            "07-01") HOLIDAY_GREETING="ðŸŽ‰ å»ºå…šèŠ‚å¿«ä¹ï¼ç¥–å›½è¶Šæ¥è¶Šå¼ºå¤§å–µâ™¡ï½ž" ;;
            "08-01") HOLIDAY_GREETING="â­ å»ºå†›èŠ‚å¿«ä¹ï¼å‘å†›äººå”å”ä»¬è‡´æ•¬å–µâ™¡ï½ž" ;;
            "08-08") HOLIDAY_GREETING="ðŸ¾ ä»Šå¤©æ˜¯å›½é™…çŒ«å’ªæ—¥ï¼æ‰€æœ‰çš„çŒ«å’ªéƒ½æ˜¯å¤©ä½¿å–µâ™¡ï½ž" ;;
            "09-10") HOLIDAY_GREETING="ðŸŒº æ•™å¸ˆèŠ‚å¿«ä¹ï¼æ„Ÿè°¢æ‰€æœ‰çš„è€å¸ˆä»¬å–µâ™¡ï½ž" ;;
            "09-22"|"09-23"|"09-24"|"09-25") HOLIDAY_GREETING="ðŸ‚ ç§‹åˆ†æ—¶èŠ‚åˆ°å•¦ï¼ç§‹å¤©çš„æ°”æ¯è¶Šæ¥è¶Šæµ“å–µâ™¡ï½ž" ;;
            "10-01") HOLIDAY_GREETING="ðŸ‡¨ðŸ‡³ å›½åº†èŠ‚å¿«ä¹ï¼ç¥–å›½ç”Ÿæ—¥å¿«ä¹å–µâ™¡ï½ž" ;;
            "10-24") HOLIDAY_GREETING="ðŸ‘©â€ðŸ’» ç¨‹åºå‘˜èŠ‚å¿«ä¹ï¼å†™ä»£ç çš„å¤§å®¶è¾›è‹¦å•¦å–µâ™¡ï½ž" ;;
            "10-29") HOLIDAY_GREETING="ðŸˆ ä»Šå¤©æ˜¯å›½é™…çŒ«å’ªæ—¥ï¼ˆç¾Žå›½ï¼‰ï¼çŒ«å’ªæ˜¯æœ€å¯çˆ±çš„ç”Ÿç‰©å–µâ™¡ï½ž" ;;
            "11-11") HOLIDAY_GREETING="ðŸ›’ åŒåä¸€è´­ç‰©èŠ‚ï¼ç†æ€§æ¶ˆè´¹å“¦å–µâ™¡ï½ž" ;;
            "12-20"|"12-21"|"12-22"|"12-23") HOLIDAY_GREETING="â„ï¸ å†¬è‡³æ—¶èŠ‚åˆ°å•¦ï¼è¦è®°å¾—åƒæ±¤åœ†ä¿æš–å–µâ™¡ï½ž" ;;
            "12-24") HOLIDAY_GREETING="ðŸŽ„ å¹³å®‰å¤œå¿«ä¹ï¼æ„¿å¤§å®¶éƒ½å¹³å®‰å–µâ™¡ï½ž" ;;
            "12-25") HOLIDAY_GREETING="ðŸŽ… åœ£è¯žèŠ‚å¿«ä¹ï¼åœ£è¯žè€äººä¼šç»™å¥½å­©å­ç¤¼ç‰©å–µâ™¡ï½ž" ;;
            "12-31") HOLIDAY_GREETING="ðŸŽ† è·¨å¹´å¤œå¿«ä¹ï¼æ„Ÿè°¢è¿™ä¸€å¹´çš„é™ªä¼´å–µâ™¡ï½ž" ;;
            *) HOLIDAY_GREETING="ðŸ“… ä»Šå¤©æ˜¯å¹³å‡¡è€Œç¾Žå¥½çš„ä¸€å¤©å–µâ™¡ï½ž" ;;
          esac
          
          echo "$HOLIDAY_GREETING" >> README.md
          echo "" >> README.md

          cat >> README.md << 'EOF'

          ## ðŸŒŸ ä»Šæ—¥è¿æ°”

          EOF

          # æ·»åŠ éšæœºçš„è¿æ°”é¢„æµ‹
          LUCK_MESSAGES=(
            "âœ¨ ä»Šå¤©çš„è¿æ°”è¶…çº§å¥½å‘¢å–µâ™¡ï½ž"
            "ðŸ€ ä»Šå¤©ä¼šé‡åˆ°ç¾Žå¥½çš„äº‹æƒ…å–µâ™¡ï½ž"
            "ðŸŒ¸ ä»Šå¤©é€‚åˆåšå–œæ¬¢çš„äº‹æƒ…å–µâ™¡ï½ž"
            "ðŸ’« ä»Šå¤©ä¼šæœ‰å°å°çš„æƒŠå–œå“¦å–µâ™¡ï½ž"
            "ðŸŽ€ ä»Šå¤©å¿ƒæƒ…ä¼šå¾ˆæ„‰å¿«å–µâ™¡ï½ž"
          )
          
          LUCK_INDEX=$((RANDOM % ${#LUCK_MESSAGES[@]}))
          echo "${LUCK_MESSAGES[$LUCK_INDEX]}" >> README.md

          # æ·»åŠ æœ€åŽçš„ç»“å°¾éƒ¨åˆ†
          cat >> README.md << EOF

          ---

          *è¿™ä¸ªREADME.mdç”±éº¦å’ªçš„è‡ªåŠ¨åŒ–å·¥ä½œæµç”Ÿæˆï¼Œæ¯å°æ—¶æ›´æ–°ä¸€æ¬¡å–µâ™¡ï½ž*

          **ä¸Šæ¬¡æ›´æ–°**: ${{ env.CURRENT_TIME }}
          EOF

      - name: ðŸš€ æäº¤å’ŒæŽ¨é€æ›´æ”¹
        run: |
          git config --global user.email "tr@wenturc.com"
          git config --global user.name "Larch-C"
          git add log.txt README.md
          
          # ä½¿ç”¨éšæœºæäº¤æ¶ˆæ¯
          git commit -m "${{ env.DECO }} ${{ env.COMMIT_MSG }} (ç¬¬${{ env.RUN_COUNT }}æ¬¡)" || echo "æ²¡æœ‰éœ€è¦æäº¤çš„å†…å®¹å–µâ™¡ï½ž"
          git push

      - name: ðŸŽ€ ä»»åŠ¡å®Œæˆ
        run: |
          echo "âœ… éº¦å’ªçš„å·¥ä½œå®Œæˆå•¦å–µâ™¡ï½ž"
          echo "ðŸ’• ä¸‹æ¬¡å†è§å“¦ï¼Œä¸»äººå–µâ™¡ï½ž"
